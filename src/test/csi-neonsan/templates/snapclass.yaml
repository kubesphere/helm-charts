{{- if .Values.snapclass.enable }}
apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshotClass
metadata:
  name: {{ .Values.snapclass.name }}
  annotations:
    {{- if .Values.snapclass.isDefaultClass }}
    snapshot.storage.kubernetes.io/is-default-class: "true"
    {{- else }}
    snapshot.storage.kubernetes.io/is-default-class: "false"
    {{- end }}
driver: {{ .Values.driver.name }}
deletionPolicy: {{ .Values.snapclass.deletionPolicy }}
{{- end }}